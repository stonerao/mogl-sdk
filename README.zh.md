# W3D SDK v2.0

<div align="center">

**æ–°ä¸€ä»£ WebGL 3D æ¸²æŸ“å¼•æ“**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Node Version](https://img.shields.io/badge/node-%3E%3D16.0.0-brightgreen.svg)](https://nodejs.org)
[![Three.js](https://img.shields.io/badge/three.js-0.180.0-orange.svg)](https://threejs.org)

[English](./README.md) | ç®€ä½“ä¸­æ–‡

</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

W3D SDK æ˜¯ä¸€ä¸ªåŸºäº Three.js çš„æ–°ä¸€ä»£ WebGL 3D æ¸²æŸ“å¼•æ“ï¼Œæä¾›äº†ç®€æ´æ˜“ç”¨çš„ API å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºé«˜æ€§èƒ½çš„ 3D Web åº”ç”¨ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸš€ **ç®€æ´æ˜“ç”¨** - é“¾å¼è°ƒç”¨ APIï¼Œå¿«é€Ÿä¸Šæ‰‹ï¼Œ5 åˆ†é’Ÿå³å¯åˆ›å»ºç¬¬ä¸€ä¸ª 3D åœºæ™¯
- ğŸ¨ **ç»„ä»¶åŒ–æ¶æ„** - çµæ´»çš„ç»„ä»¶ç³»ç»Ÿï¼Œæ˜“äºæ‰©å±•å’Œå¤ç”¨
- ğŸ¯ **äº‹ä»¶é©±åŠ¨** - å®Œå–„çš„äº‹ä»¶ç³»ç»Ÿï¼Œæ”¯æŒä¸°å¯Œçš„äº¤äº’æ“ä½œ
- ğŸ“¦ **èµ„æºç®¡ç†** - æ™ºèƒ½çš„èµ„æºåŠ è½½å’Œç¼“å­˜æœºåˆ¶ï¼Œä¼˜åŒ–æ€§èƒ½
- ğŸ¬ **åŠ¨ç”»ç³»ç»Ÿ** - å†…ç½®åŠ¨ç”»ç®¡ç†å™¨å’Œè¡¥é—´åŠ¨ç”»ï¼Œè½»æ¾å®ç°å¤æ‚åŠ¨ç”»æ•ˆæœ
- ğŸ”§ **å¼€å‘å‹å¥½** - å®Œæ•´çš„ä¸­æ–‡æ–‡æ¡£ï¼Œä¸°å¯Œçš„ç¤ºä¾‹ä»£ç 
- ğŸ“± **å“åº”å¼è®¾è®¡** - è‡ªåŠ¨é€‚é…ä¸åŒå±å¹•å°ºå¯¸

### ğŸ¯ é€‚ç”¨åœºæ™¯

- äº§å“å±•ç¤ºå’Œ 3D å¯è§†åŒ–
- æ•°å­—å­ªç”Ÿå’Œæ™ºæ…§åŸå¸‚
- åœ¨çº¿ 3D ç¼–è¾‘å™¨
- æ¸¸æˆå’Œäº’åŠ¨ä½“éªŒ
- å»ºç­‘å’Œå®¤å†…è®¾è®¡å¯è§†åŒ–
- æ•™è‚²å’ŒåŸ¹è®­åº”ç”¨

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
sdk/
â”œâ”€â”€ packages/                 # åŒ…ç›®å½•
â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒæ¸²æŸ“å¼•æ“
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ core/       # æ ¸å¿ƒæ¨¡å—ï¼ˆScene, Renderer, Camera ç­‰ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ component/  # ç»„ä»¶ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ event/      # äº‹ä»¶ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ resource/   # èµ„æºç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ animation/  # åŠ¨ç”»ç³»ç»Ÿ
â”‚   â”‚   â”‚   â””â”€â”€ config/     # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°åº“
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ event/      # äº‹ä»¶å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ math/       # æ•°å­¦å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ geometry/   # å‡ ä½•å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ color/      # é¢œè‰²å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ loader/     # åŠ è½½å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ cache/      # ç¼“å­˜å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ performance/# æ€§èƒ½å·¥å…·
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ components/         # ç»„ä»¶åº“ï¼ˆè§„åˆ’ä¸­ï¼‰
â”‚   â””â”€â”€ examples/           # ç¤ºä¾‹é¡¹ç›®
â”œâ”€â”€ document/               # æ–‡æ¡£ç›®å½•
â”‚   â””â”€â”€ zh/                # ä¸­æ–‡æ–‡æ¡£
â”‚       â”œâ”€â”€ sdk-guide.md   # SDK ä½¿ç”¨æŒ‡å—
â”‚       â”œâ”€â”€ api-reference.md # API å‚è€ƒæ–‡æ¡£
â”‚       â””â”€â”€ component-guide.md # ç»„ä»¶å¼€å‘æŒ‡å—
â”œâ”€â”€ docs/                   # å¼€å‘æ–‡æ¡£
â”œâ”€â”€ scripts/                # æ„å»ºè„šæœ¬
â”œâ”€â”€ package.json           # æ ¹é…ç½®æ–‡ä»¶
â”œâ”€â”€ pnpm-workspace.yaml    # pnpm å·¥ä½œåŒºé…ç½®
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 16.0.0
- **pnpm**: >= 8.0.0ï¼ˆæ¨èï¼‰æˆ– npm/yarn

### å®‰è£…

#### 1. å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ pnpmï¼ˆæ¨èï¼‰
pnpm install

# æˆ–ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

#### 2. åœ¨é¡¹ç›®ä¸­ä½¿ç”¨

```bash
# å®‰è£… SDK
pnpm add @w3d/core three

# æˆ–
npm install @w3d/core three
```

### åŸºç¡€ç¤ºä¾‹

åˆ›å»ºä¸€ä¸ªç®€å•çš„ 3D åœºæ™¯ï¼š

```javascript
import { Scene } from '@w3d/core';

// åˆ›å»ºåœºæ™¯
const scene = new Scene('#app', {
    renderer: {
        antialias: true,
        alpha: false
    },
    camera: {
        position: [0, 100, 200],
        fov: 45
    }
});

// æ·»åŠ ç¯å…‰
scene.light.addAmbient({
    color: '#ffffff',
    intensity: 0.8
});

scene.light.addDirectional({
    color: '#ffffff',
    intensity: 1.0,
    position: [100, 100, 100],
    castShadow: true
});

// åˆå§‹åŒ–åœºæ™¯
scene.init();
```

### åŠ è½½ 3D æ¨¡å‹

```javascript
import { Scene, ModelLoader } from '@w3d/core';

const scene = new Scene('#app');

// æ³¨å†Œæ¨¡å‹åŠ è½½å™¨ç»„ä»¶
scene.registerComponent('ModelLoader', ModelLoader);

// åˆå§‹åŒ–åœºæ™¯
scene.init();

// åŠ è½½æ¨¡å‹
const model = await scene.add('ModelLoader', {
    name: 'robot',
    url: '/models/robot.glb',
    scale: 2,
    position: [0, 0, 0]
});

// ç›‘å¬æ¨¡å‹ç‚¹å‡»äº‹ä»¶
model.on('click', (event) => {
    console.log('æ¨¡å‹è¢«ç‚¹å‡»äº†', event.object);
});
```

### æ·»åŠ åŠ¨ç”»

```javascript
import { Tween } from '@w3d/core';

// åˆ›å»ºè¡¥é—´åŠ¨ç”»
Tween.to(model.position, { y: 10 }, 2000, {
    easing: 'easeInOutQuad',
    onComplete: () => {
        console.log('åŠ¨ç”»å®Œæˆ');
    }
});
```

## ğŸ› ï¸ å¼€å‘

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨æ‰€æœ‰åŒ…çš„å¼€å‘æ¨¡å¼
pnpm dev

# å¯åŠ¨ç‰¹å®šåŒ…çš„å¼€å‘æ¨¡å¼
pnpm dev:core        # æ ¸å¿ƒåŒ…
pnpm dev:utils       # å·¥å…·åŒ…
pnpm dev:examples    # ç¤ºä¾‹é¡¹ç›®
```

### æ„å»º

```bash
# æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# æ„å»ºç‰¹å®šåŒ…
pnpm build:core      # æ ¸å¿ƒåŒ…
pnpm build:utils     # å·¥å…·åŒ…
```

### æµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•
pnpm test

# ç›‘å¬æ¨¡å¼
pnpm test:watch

# æµ‹è¯•è¦†ç›–ç‡
pnpm test:coverage

# æµ‹è¯• UI
pnpm test:ui
```

### ä»£ç è§„èŒƒ

```bash
# ä»£ç æ£€æŸ¥
pnpm lint

# è‡ªåŠ¨ä¿®å¤
pnpm lint:fix

# ä»£ç æ ¼å¼åŒ–
pnpm format

# æ£€æŸ¥æ ¼å¼
pnpm format:check
```

## ğŸ“š æŠ€æœ¯æ ˆ

### æ ¸å¿ƒä¾èµ–

- **Three.js** (^0.180.0) - 3D å›¾å½¢åº“
- **Vite** (^5.1.4) - æ„å»ºå·¥å…·
- **pnpm** (>=8.0.0) - åŒ…ç®¡ç†å™¨

### å¼€å‘å·¥å…·

- **Vitest** - å•å…ƒæµ‹è¯•æ¡†æ¶
- **ESLint** - ä»£ç æ£€æŸ¥å·¥å…·
- **Prettier** - ä»£ç æ ¼å¼åŒ–å·¥å…·
- **Lerna** - Monorepo ç®¡ç†å·¥å…·
- **Changesets** - ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒå·¥å…·

### æ¶æ„ç‰¹ç‚¹

- **Monorepo æ¶æ„** - ä½¿ç”¨ pnpm workspace ç®¡ç†å¤šåŒ…é¡¹ç›®
- **ES Module** - ä½¿ç”¨ç°ä»£ JavaScript æ¨¡å—ç³»ç»Ÿ
- **ç»„ä»¶åŒ–è®¾è®¡** - åŸºäºç»„ä»¶çš„å¯æ‰©å±•æ¶æ„
- **äº‹ä»¶é©±åŠ¨** - å®Œå–„çš„äº‹ä»¶ç³»ç»Ÿæ”¯æŒ

## ğŸ“– æ–‡æ¡£

### ä¸­æ–‡æ–‡æ¡£

- [SDK ä½¿ç”¨æŒ‡å—](./document/zh/sdk-guide.md) - è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œç¤ºä¾‹
- [API å‚è€ƒæ–‡æ¡£](./document/zh/api-reference.md) - å®Œæ•´çš„ API æ–‡æ¡£
- [ç»„ä»¶å¼€å‘æŒ‡å—](./document/zh/component-guide.md) - å¦‚ä½•å¼€å‘è‡ªå®šä¹‰ç»„ä»¶

### å¼€å‘æ–‡æ¡£

- [æ¶æ„è®¾è®¡](./docs/architecture.md) - ç³»ç»Ÿæ¶æ„è¯´æ˜
- [API è®¾è®¡](./docs/api-design.md) - API è®¾è®¡æ–‡æ¡£
- [ç»„ä»¶ç³»ç»Ÿ](./docs/component-system.md) - ç»„ä»¶ç³»ç»Ÿè®¾è®¡
- [äº‹ä»¶ç³»ç»Ÿ](./docs/event-system.md) - äº‹ä»¶ç³»ç»Ÿè®¾è®¡
- [æ„å»ºé…ç½®](./docs/build-config.md) - æ„å»ºé…ç½®è¯´æ˜

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### Sceneï¼ˆåœºæ™¯ç®¡ç†ï¼‰

- åœºæ™¯åˆ›å»ºå’Œåˆå§‹åŒ–
- æ¸²æŸ“å¾ªç¯æ§åˆ¶
- ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
- èµ„æºç®¡ç†

### Componentï¼ˆç»„ä»¶ç³»ç»Ÿï¼‰

- ç»„ä»¶åŸºç±»å’Œç”Ÿå‘½å‘¨æœŸ
- ç»„ä»¶æ³¨å†Œå’Œç®¡ç†
- äº‹ä»¶ç³»ç»Ÿé›†æˆ
- é…ç½®ç®¡ç†

### EventSystemï¼ˆäº‹ä»¶ç³»ç»Ÿï¼‰

- é¼ æ ‡äº‹ä»¶ï¼ˆç‚¹å‡»ã€ç§»åŠ¨ã€è¿›å…¥ã€ç¦»å¼€ç­‰ï¼‰
- è§¦æ‘¸äº‹ä»¶æ”¯æŒ
- å°„çº¿æ‹¾å–
- è‡ªå®šä¹‰äº‹ä»¶

### ResourceManagerï¼ˆèµ„æºç®¡ç†ï¼‰

- èµ„æºåŠ è½½å’Œç¼“å­˜
- åŠ è½½è¿›åº¦è·Ÿè¸ª
- èµ„æºé‡Šæ”¾ç®¡ç†
- é”™è¯¯å¤„ç†

### AnimationManagerï¼ˆåŠ¨ç”»ç³»ç»Ÿï¼‰

- GLTF æ¨¡å‹åŠ¨ç”»æ”¯æŒ
- è¡¥é—´åŠ¨ç”»
- åŠ¨ç”»æ··åˆå™¨
- åŠ¨ç”»æ§åˆ¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºæ‚¨çš„ç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ä¸€ä¸ª Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ªé¡¹ç›®çš„ä»£ç é£æ ¼
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
- æ·»åŠ å¿…è¦çš„æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) è®¸å¯è¯ã€‚

## ğŸ‘¥ å›¢é˜Ÿ

W3D Team

## ğŸ”— ç›¸å…³é“¾æ¥

- [Three.js å®˜ç½‘](https://threejs.org/)
- [Three.js æ–‡æ¡£](https://threejs.org/docs/)
- [WebGL è§„èŒƒ](https://www.khronos.org/webgl/)

## ğŸ“® è”ç³»æˆ‘ä»¬

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- æäº¤ [Issue](https://github.com/yourusername/w3d-sdk/issues)
- å‘é€é‚®ä»¶è‡³ï¼š674656681@qq.com

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

<div align="center">

**[â¬† å›åˆ°é¡¶éƒ¨](#w3d-sdk-v20)**

Made with â¤ï¸ by W3D Team

</div>
